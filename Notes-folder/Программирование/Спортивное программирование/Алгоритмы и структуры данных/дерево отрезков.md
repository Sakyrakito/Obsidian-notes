>[!info] 
>дерево отрезков на сумму

C++:
```C++
class SegmentTree {
public:
    SegmentTree(int stSize) {
        st.assign(stSize * 4, 0);
    }

    void update(int i, int val) {
        updateTree(i, val, 1, 1, st.size() / 4);
    }

    int getSum(int l, int r) {
        return getSumTree(l, r, 1, 1, st.size() / 4);
    }

private:
    vector<int> st;

    void updateTree(int i, int val, int v, int l, int r) {
        if (l == r) {
            st[v] = val;
            return;
        }

        int m = (l + r) / 2;
        if (i <= m)
            updateTree(i, val, v * 2, l, m);
        else
            updateTree(i, val, v * 2 + 1, m + 1, r);

        st[v] = st[v * 2 + 1] + st[v * 2];
    }

    int getSumTree(int l, int r, int v, int tl, int tr) {
        if (tl >= l && tr <= r)
            return st[v];

        if (tl > r || tr < l)
            return 0;

        int m = (tl + tr) / 2;

        return getSumTree(l, r, v * 2, tl, m) +
            getSumTree(l, r, v * 2 + 1, m + 1, tr);
    }
};
```