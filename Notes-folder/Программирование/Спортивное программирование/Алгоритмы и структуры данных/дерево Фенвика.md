C++:
```c++
class FenwickTree {
public:
    FenwickTree(int sz) {
        t.resize(sz);
        n = sz;
    }

    int sum(int l, int r) {
        return sum(r) - sum(l - 1);
    }

private:
    int n;
    vector<int> t;
    // возвращает сумму на префиксе
    int sum(int r) {
        int res = 0;
        for (; r > 0; r -= r & -r)
            res += t[r];
        return res;
    }

    // обновляет нужные t
    void add(int k, int x) {
        for (; k <= n; k += k & -k)
            t[k] += x;
    }
};
```