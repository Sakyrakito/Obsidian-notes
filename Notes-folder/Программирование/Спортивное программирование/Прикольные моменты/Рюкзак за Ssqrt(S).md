Есть обычный рюкзак, который работает за $O(N * S)$, где N - количество элементов, а S - максимальная сумма. Но эту задачу можно оптимизировать.

Пусть у нас $\sum_{i=0}^{n} \leq X$, тогда у нас будет не больше $\sqrt{ X }$ различных элементов, так как элементы будут $[1, 2, 3, \dots , n]$ а их сумма - это $\frac{n * (n + 1)}{2}$, отсюда максимальное n - $\sqrt{ X }$, а остальные элементу будут повторяться. Теперь, если мы знаем, что какой-то элемент *a* входит в массив *c* раз, то мы можем получить любую сумму из $x, 2x, 3x, ..., cx$. Но давайте найдём такое максимальное *t*, что $2^t - 1 \leq c$ и заменим наши элементы на $x, 2x, 4x, 8x, ..., (c + 1 - 2^t)x$. Мы всё ещё можем получить любую сумма от x до cx, но теперь элементов гораздо меньше. Худший случай, это когда у нас $\sqrt{ X }$ разных элементов, а какой-то 1 встречается много раз, тогда количество будет чуть больше, чем $\sqrt{ X }$, но не больше, $n$, так как мы только уменьшаем их количество.

Теперь, если мы используем битсет, то асимптотика сокращается до $\frac{S * \sqrt{ S }}{64}$


---

Задачи на эту тему:
[[Codeforces F 105053 - Fair Distribution]]